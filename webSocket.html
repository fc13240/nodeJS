<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--[if lt ie 7]> <html class="ie ie6" lang="zh-CN"> <![endif]-->
<!--[if ie 7]>    <html class="ie ie7" lang="zh-CN"> <![endif]-->
<!--[if ie 8]>    <html class="ie ie8" lang="zh-CN"> <![endif]-->
<!--[if gt ie 8]><!-->  <html> <!--<![endif]-->
 <head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<!--[if lt ie 7]> <title>IE 7 以下版本</title> <![endif]-->
<!--[if ie 7]> <title>IE 7</title> <![endif]-->
<!--[if ie 8]> <title>IE 8</title> <![endif]-->
<!--[if gt ie 8]><title>IE 8 以上版本</title><![endif]-->
		<meta name="Generator" content="EditPlus"/>
		<meta name="Author" content=""/>
		<meta name="Keywords" content=""/>
		<meta name="Description" content=""/>
	</head>

	<body>
	<div id="showData"></div>
	<script>
	 
		//websocket支持  
	if (!window.WebSocket) {  
        alert('Your browser not support websocket!');  
    }  
    else {  
       //创建一个socket连接  
        var ws = new WebSocket('ws://127.0.0.1:8080');  
  
        
		ws.send('tonny');
       //当socket服务器有消息更新时  
        ws.onmessage = function(e){  
            document.querySelector('#showData').innerHTML += e.data;  
        };  
  
        document.querySelector('body').addEventListener('click', function(e){  
            e.preventDefault();  
  
            if (e.target.nodeName) {  
               //向socket服务器发送消息  
                ws.send(e.target.nodeName);  
            }  
        }, true);  
    }
	</script>

	</body>
</html>
